schema: '2.0'
stages:
  train:
    cmd: python src/train.py
    deps:
    - path: data/dev_set_prepared.pkl
      hash: md5
      md5: a29a83c819870336a8c0f0e247a7e29e
      size: 3537982
    - path: data/test_set_prepared.pkl
      hash: md5
      md5: c3c8fd8b95b6fbf2765afc461ec4743b
      size: 779937
    - path: src/train.py
      hash: md5
      md5: f82aed742bbc95eeec3490c59315a29b
      size: 5081
    params:
      params.yaml:
        train.cost: 2
        train.model: pca_svm
        train.n_components: 45
        train.svm_gamma: 0.0001
        train.test: false
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: src/prepare.py
      hash: md5
      md5: 076dcb710f30893d2bc3970ef095a66d
      size: 7604
    params:
      params.yaml:
        data.binwidth: 16
        data.correlation_threshold: 0.8
        data.data_file: ../data/NFBC/radiomics/ivd/no_rotation/joined.pkl
        data.dev_ids: data/ivd_dev_set_project_ids.txt
        data.feature_set: radiomics_dhi_dpsi
        data.icc_cut_off: 0.95
        data.icc_results: ../data/NFBC/radiomics/icc_results_ivd_all_features.csv
        data.resampling: '0270'
        data.save_test_artifacts: false
        data.test_ids: data/ivd_test_set_project_ids.txt
        data.variance_threshold: 0.0001
    outs:
    - path: data/dev_set_prepared.pkl
      hash: md5
      md5: c24d142d88577aacaef3322cb722209e
      size: 1300678
    - path: data/test_set_prepared.pkl
      hash: md5
      md5: 0d9c21ef3d21f084a2af95c6f07462c6
      size: 286641
  test:
    cmd: python src/test.py
    deps:
    - path: data/dev_set_prepared.pkl
      hash: md5
      md5: a29a83c819870336a8c0f0e247a7e29e
      size: 3537982
    - path: data/test_set_prepared.pkl
      hash: md5
      md5: c3c8fd8b95b6fbf2765afc461ec4743b
      size: 779937
    - path: src/test.py
      hash: md5
      md5: e2270e1039a8406ed0d96d64497570e3
      size: 7881
  data:
    cmd: python src/prepare.py
    deps:
    - path: src/prepare.py
      hash: md5
      md5: 16e0d906bdcb1712447dd58b4a031ecb
      size: 7692
    params:
      params.yaml:
        data.binwidth: 16
        data.correlation_threshold: 0
        data.data_file: ../data/NFBC/radiomics/ivd/no_rotation/joined.pkl
        data.dev_ids: data/ivd_dev_set_project_ids.txt
        data.feature_set: radiomics_only
        data.icc_cut_off: 0.95
        data.icc_results: ../data/NFBC/radiomics/icc_results_ivd_all_features.csv
        data.resampling: '0270'
        data.save_test_artifacts: false
        data.split: true
        data.test_ids: data/ivd_test_set_project_ids.txt
        data.variance_threshold: 0.0001
    outs:
    - path: data/dev_set_prepared.pkl
      hash: md5
      md5: a29a83c819870336a8c0f0e247a7e29e
      size: 3537982
    - path: data/test_set_prepared.pkl
      hash: md5
      md5: c3c8fd8b95b6fbf2765afc461ec4743b
      size: 779937
