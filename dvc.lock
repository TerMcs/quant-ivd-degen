schema: '2.0'
stages:
  train:
    cmd: python src/train.py
    deps:
    - path: data/dev_set_prepared.pkl
      hash: md5
      md5: 510bb77198fde6ce44b02819fad26587
      size: 5546742
    - path: data/test_set_prepared.pkl
      hash: md5
      md5: 1e2e013afaab26308225e74d5b276121
      size: 1222649
    - path: src/train.py
      hash: md5
      md5: f82aed742bbc95eeec3490c59315a29b
      size: 5081
    params:
      params.yaml:
        train.cost: 2
        train.model: pca_svm
        train.n_components: 25
        train.svm_gamma: 0.0001
        train.test: false
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: src/prepare.py
      hash: md5
      md5: 076dcb710f30893d2bc3970ef095a66d
      size: 7604
    params:
      params.yaml:
        data.binwidth: 16
        data.correlation_threshold: 0.8
        data.data_file: ../data/NFBC/radiomics/ivd/no_rotation/joined.pkl
        data.dev_ids: data/ivd_dev_set_project_ids.txt
        data.feature_set: radiomics_dhi_dpsi
        data.icc_cut_off: 0.95
        data.icc_results: ../data/NFBC/radiomics/icc_results_ivd_all_features.csv
        data.resampling: '0270'
        data.save_test_artifacts: false
        data.test_ids: data/ivd_test_set_project_ids.txt
        data.variance_threshold: 0.0001
    outs:
    - path: data/dev_set_prepared.pkl
      hash: md5
      md5: c24d142d88577aacaef3322cb722209e
      size: 1300678
    - path: data/test_set_prepared.pkl
      hash: md5
      md5: 0d9c21ef3d21f084a2af95c6f07462c6
      size: 286641
  test:
    cmd: python src/test.py
    deps:
    - path: data/dev_set_prepared.pkl
      hash: md5
      md5: 510bb77198fde6ce44b02819fad26587
      size: 5546742
    - path: data/test_set_prepared.pkl
      hash: md5
      md5: 1e2e013afaab26308225e74d5b276121
      size: 1222649
    - path: src/test.py
      hash: md5
      md5: e2270e1039a8406ed0d96d64497570e3
      size: 7881
  data:
    cmd: python src/prepare.py
    deps:
    - path: src/prepare.py
      hash: md5
      md5: 5b9065503a024fe99b43c3ba03a7b217
      size: 7871
    params:
      params.yaml:
        data.binwidth: 1
        data.correlation_threshold: 0
        data.data_file: ../data/NFBC/radiomics/ivd/no_rotation/joined.pkl
        data.dev_ids: data/ivd_dev_set_project_ids.txt
        data.feature_set: radiomics_dhi_dpsi
        data.icc_cut_off: 0.95
        data.icc_results: ../data/NFBC/radiomics/icc_results_ivd_all_features.csv
        data.resampling: none
        data.save_test_artifacts: false
        data.split: true
        data.test_ids: data/ivd_test_set_project_ids.txt
        data.variance_threshold: 0.0001
    outs:
    - path: data/dev_set_prepared.pkl
      hash: md5
      md5: b722dccb40302f67bdd4d8c452c0ff8e
      size: 3948922
    - path: data/test_set_prepared.pkl
      hash: md5
      md5: 48a49f9feb0408bb7b5d6c4889ce8022
      size: 870418
